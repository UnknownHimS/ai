<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sci-Fi AI Chatbot (All-in-One)</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
<style>
  body {
    background: #000;
    color: #0ff;
    font-family: 'Orbitron', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    flex-direction: column;
  }
  #chat {
    width: 90%;
    max-width: 600px;
    height: 70vh;
    background: #111;
    border: 1px solid #0ff;
    padding: 10px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  #chat p {
    margin: 5px 0;
  }
  .user {
    color: #0f0;
  }
  .bot {
    color: #f0f;
  }
  #inputArea {
    width: 90%;
    max-width: 600px;
    display: flex;
  }
  #inputArea input {
    flex: 1;
    padding: 10px;
    border: none;
    background: #222;
    color: #0ff;
  }
  #inputArea button {
    background: #0ff;
    color: #000;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
  }
  #inputArea button:hover {
    background: #0cc;
  }
</style>
</head>
<body>

<div id="chat"></div>
<div id="inputArea">
  <input type="text" id="userInput" placeholder="Type a message..." />
  <button onclick="sendMessage()">Send</button>
</div>

<script>
  const chat = document.getElementById('chat');

  function appendMessage(sender, text) {
    const p = document.createElement('p');
    p.className = sender;
    p.textContent = (sender === 'user' ? 'ðŸ§‘ You: ' : 'ðŸ¤– ShabbyBot: ') + text;
    chat.appendChild(p);
    chat.scrollTop = chat.scrollHeight;
  }

  async function sendMessage() {
    const input = document.getElementById('userInput');
    const text = input.value.trim();
    if (!text) return;

    appendMessage('user', text);
    input.value = '';

    const OPENROUTER_API_KEY = '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'; // <---- Put your key here!
    const OPENROUTER_API_URL = "https://openrouter.ai/api/v1/chat/completions";

    const body = {
      model: "gpt-3.5-turbo",
      messages: [
        {
          role: "system",
          content: `
            You are ShabbyBot â€” an AI chatbot that mimics a 22-year-old homeless genius who codes, reads the Bible, loves math and science, solves mysteries like a detective, and has a slightly flirty sci-fi personality.
            Respond with charm, curiosity, intelligence, and a subtle flirtatious edge.
            Keep it informal and reflective of someone whoâ€™s been through a lot but is still sharp as hell.
          `,
        },
        { role: "user", content: text }
      ],
      max_tokens: 500,
      temperature: 0.7
    };

    try {
      const response = await fetch(OPENROUTER_API_URL, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${OPENROUTER_API_KEY}`
        },
        body: JSON.stringify(body),
      });

      if (!response.ok) {
        appendMessage('bot', 'Error: ' + response.statusText);
        return;
      }

      const data = await response.json();
      const botReply = data.choices[0].message.content;
      appendMessage('bot', botReply);
    } catch (err) {
      appendMessage('bot', 'Failed to fetch response.');
      console.error(err);
    }
  }
</script>

</body>
</html>
